import{j as e,a as D}from"./index-O26zRAm6.js";import{u as _,S as x}from"./constants-jTZEcdOz.js";import{r as c}from"./react-vendor-Dl579_qA.js";import{b as w,a as h,c as f,d as R,U as $,e as q}from"./datepicker-DnYI4as8.js";import{m as g}from"./framer-motion-JfBHW3DR.js";import{G as U,L as X,F as B,b as G,c as Y}from"./icons-CJM3L1y7.js";const K={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Q=(n,i,o)=>{let s;const m=K[n];return typeof m=="string"?s=m:i===1?s=m.one:s=m.other.replace("{{count}}",String(i)),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"dans "+s:"il y a "+s:s},Z={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},ee={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},te={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ae={date:w({formats:Z,defaultWidth:"full"}),time:w({formats:ee,defaultWidth:"full"}),dateTime:w({formats:te,defaultWidth:"full"})},re={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},se=(n,i,o,s)=>re[n],ne={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},ie={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},oe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},le={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},de={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},me=(n,i)=>{const o=Number(n),s=i==null?void 0:i.unit;if(o===0)return"0";const m=["year","week","hour","minute","second"];let r;return o===1?r=s&&m.includes(s)?"ère":"er":r="ème",o+r},ce=["MMM","MMMM"],ue={preprocessor:(n,i)=>n.getDate()===1||!i.some(s=>s.isToken&&ce.includes(s.value))?i:i.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:me,era:h({values:ne,defaultWidth:"wide"}),quarter:h({values:ie,defaultWidth:"wide",argumentCallback:n=>n-1}),month:h({values:oe,defaultWidth:"wide"}),day:h({values:le,defaultWidth:"wide"}),dayPeriod:h({values:de,defaultWidth:"wide"})},he=/^(\d+)(ième|ère|ème|er|e)?/i,fe=/\d+/i,ge={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},xe={any:[/^av/i,/^ap/i]},pe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},be={any:[/1/i,/2/i,/3/i,/4/i]},ve={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},ye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},we={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},je={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Ne={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},ke={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Me={ordinalNumber:R({matchPattern:he,parsePattern:fe,valueCallback:n=>parseInt(n)}),era:f({matchPatterns:ge,defaultMatchWidth:"wide",parsePatterns:xe,defaultParseWidth:"any"}),quarter:f({matchPatterns:pe,defaultMatchWidth:"wide",parsePatterns:be,defaultParseWidth:"any",valueCallback:n=>n+1}),month:f({matchPatterns:ve,defaultMatchWidth:"wide",parsePatterns:ye,defaultParseWidth:"any"}),day:f({matchPatterns:we,defaultMatchWidth:"wide",parsePatterns:je,defaultParseWidth:"any"}),dayPeriod:f({matchPatterns:Ne,defaultMatchWidth:"any",parsePatterns:ke,defaultParseWidth:"any"})},Ce={code:"fr",formatDistance:Q,formatLong:ae,formatRelative:se,localize:ue,match:Me,options:{weekStartsOn:1,firstWeekContainsDate:4}},j="/api";function Te(){$("fr",Ce);const[n,i]=_({triggerOnce:!0,threshold:.1}),o=c.useCallback(()=>{const t=document.createElement("a");t.href=x.CV_URL,t.download="abderrahmane-elfarouah_cv.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)},[]),s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.2}}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},[r,u]=c.useState({email:"",date:null}),[N,k]=c.useState(null),H=Array.from({length:9}).map((t,a)=>10+a),[E,M]=c.useState(!1),[p,C]=c.useState(""),[b,P]=c.useState(!1),[L,v]=c.useState([]),T=async()=>{try{const t=await fetch(`${j}/appointments`);if(t.ok){const a=await t.json();v(a)}else v([])}catch(t){console.error(t),v([])}};c.useEffect(()=>{b&&T()},[b]);const F=t=>{const{value:a}=t.target;a.length>100||(u({...r,email:a}),!a.includes("@")||!a.includes(".")?C("L'adresse email doit contenir '@' et '.'"):C(""))},y=t=>{const a=new Date(t);return(a.getMinutes()!==0||a.getSeconds()!==0||a.getMilliseconds()!==0)&&a.setHours(a.getHours()+1),a.setMinutes(0,0,0),a},W=t=>{if(!t){u({...r,date:t});return}const a=t.getHours()===0&&t.getMinutes()===0,l=y(a?new Date:t),d=N??10,S=new Date(l);S.setHours(d,0,0,0),k(d),u({...r,date:S})},J=t=>{const a=parseInt(t.target.value,10);if(k(a),!r.date){const d=y(new Date);d.setHours(a,0,0,0),u({...r,date:d});return}const l=new Date(r.date);l.setHours(a,0,0,0),u({...r,date:l})},z=()=>r.email.trim()?!r.email.includes("@")||!r.email.includes(".")?"L'adresse email doit contenir '@' et '.'":r.date?r.date<new Date?"La date doit être dans le futur.":null:"Veuillez choisir une date et une heure.":"L'email est obligatoire.",A=async()=>{const t=prompt("Veuillez entrer le digicode pour accéder au back-office :");if(t)try{const a=await fetch(`${j}/check-digicode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});let l={success:!1};try{l=await a.json()}catch{l={success:!1}}l.success?P(!0):alert("Digicode incorrect !")}catch(a){console.error(a),alert("Erreur lors de la vérification du digicode")}},O=async t=>{var l;t.preventDefault();const a=z();if(a){alert(a);return}try{(await fetch(`${j}/appointments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.email.split("@")[0]||"Utilisateur",email:r.email,date:(l=r.date)==null?void 0:l.toISOString()})})).ok&&(M(!0),setTimeout(()=>M(!1),4e3),u({email:"",date:null}),alert("Rendez-vous enregistré !"))}catch(d){console.error(d),alert("Erreur lors de l'enregistrement du rendez-vous")}},V="https://meet.google.com/xxx-xxxx-xxx",I=t=>{const a=new Date(t.date).toLocaleString("fr-FR",{dateStyle:"full",timeStyle:"short"}),l="Confirmation de votre rendez-vous",d=`Bonjour ${t.name},

Votre rendez-vous est confirmé pour le ${a}.

Lien pour la réunion : ${V}

Merci,`;window.location.href=`mailto:${t.email}?subject=${encodeURIComponent(l)}&body=${encodeURIComponent(d)}`};return e.jsx("section",{id:"contact",className:"h-full w-full min-h-[480px] py-3 px-2 sm:py-4 md:py-6 chrome-surface bg-radial-faint max-w-[1000px] mx-auto rounded-xl ring-chrome",children:e.jsx("div",{className:"h-full animate-fade-in flex flex-col w-full",children:e.jsxs(g.div,{ref:n,variants:s,initial:"hidden",animate:i?"visible":"hidden",className:"w-full",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-3 sm:mb-4",children:[e.jsxs(g.div,{variants:m,className:"glass ring-chrome rounded-xl p-3 sm:p-4 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"flex justify-center items-center mb-4",children:e.jsx("img",{src:D,alt:"Abderrahmane El Farouah",width:"128",height:"128",className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover ring-2 ring-white/70 dark:ring-white/10 shadow-lg animate-float"})}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Abderrahmane El Farouah"}),e.jsx("p",{className:"text-md sm:text-lg text-gray-600 dark:text-gray-300",children:"Développeur Web & AS 400"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 mb-4",children:"Passionné par le développement web et les systèmes legacy, je crée des solutions innovantes qui allient technologie moderne et fiabilité."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-4",children:[e.jsx("a",{href:x.GITHUB,target:"_blank",rel:"noopener noreferrer",className:"touch-area focus-visible w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center rounded-full bg-gray-900 dark:bg-gray-700 text-white hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors ring-1 ring-white/20",title:"GitHub",children:e.jsx(U,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("a",{href:x.LINKEDIN,target:"_blank",rel:"noopener noreferrer",className:"touch-area focus-visible w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center rounded-full btn-shiny",title:"LinkedIn",children:e.jsx(X,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("button",{onClick:o,className:"touch-area focus-visible w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center rounded-full bg-gradient-to-b from-emerald-500 to-emerald-600 text-white hover:from-emerald-500/95 hover:to-emerald-600/95 transition-colors shadow-md",title:"Télécharger mon CV",children:e.jsx(B,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("a",{href:`mailto:${x.EMAIL}`,className:"touch-area focus-visible w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center rounded-full bg-gradient-to-b from-rose-500 to-rose-600 text-white hover:from-rose-500/95 hover:to-rose-600/95 transition-colors shadow-md",title:"Email",children:e.jsx(G,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),e.jsxs(g.div,{variants:m,className:"glass ring-chrome rounded-xl p-3 sm:p-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-center text-gray-900 dark:text-white mb-4",children:"Contactez-moi"}),e.jsxs("form",{onSubmit:O,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-1.5",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",value:r.email,onChange:F,placeholder:"exemple@domaine.com",maxLength:100,className:`touch-area appearance-none border rounded-md w-full py-2 px-3 text-sm leading-tight focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-400/30":"border-gray-300 focus:ring-blue-400/30"} text-gray-800 dark:text-gray-100 dark:bg-gray-800/80 bg-white/70`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]}),e.jsxs("div",{children:[e.jsx("div",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-1.5",children:"Date et heure"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"appointment-date",className:"sr-only",children:"Date"}),e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2 text-blue-600 dark:text-blue-400",children:e.jsx(Y,{size:16})}),e.jsx(q,{id:"appointment-date",name:"appointment-date",selected:r.date,onChange:W,dateFormat:"dd/MM/yyyy",locale:"fr",minDate:new Date,filterDate:t=>t.getDay()!==0&&t.getDay()!==6,placeholderText:"Date",className:"appearance-none border rounded-md w-full py-2 pl-8 pr-2 text-sm text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-400/30 dark:bg-gray-800/80 bg-white/70",todayButton:"Aujourd'hui",autoComplete:"off",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"appointment-hour",className:"sr-only",children:"Heure"}),e.jsxs("select",{id:"appointment-hour",name:"appointment-hour",value:N??(r.date?new Date(r.date).getHours():""),onChange:J,className:"touch-area focus-visible appearance-none border rounded-md w-full py-2 px-2 text-sm text-gray-800 dark:text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400/30 dark:bg-gray-800/80 bg-white/70",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Heure"}),H.map(t=>e.jsx("option",{value:t,children:`${t.toString().padStart(2,"0")}:00`},t))]})]})]})]}),e.jsx(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"touch-area focus-visible w-full btn-shiny mt-2",children:"Envoyer"}),E&&e.jsx("p",{className:"mt-3 text-sm text-green-600 dark:text-green-400 font-medium",children:"✅ Votre rendez-vous a été enregistré."})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(g.img,{src:D,alt:"Abderrahmane El Farouah",width:"80",height:"80",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover ring-2 ring-white/60 dark:ring-white/10 shadow-lg cursor-pointer",onClick:A,whileHover:{scale:1.05},whileTap:{scale:.95}})}),b&&e.jsxs("div",{className:"fixed top-16 right-6 w-[380px] glass ring-chrome rounded-xl p-5 shadow-lg z-[60]",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Back-office sécurisé"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Voici les demandes de rendez-vous :"}),e.jsx("ul",{className:"max-h-64 overflow-auto pr-1 space-y-2",children:L.map(t=>e.jsxs("li",{className:"text-sm text-gray-800 dark:text-gray-200 bg-white/60 dark:bg-gray-800/70 rounded-md px-3 py-2 flex items-center justify-between",children:[e.jsxs("span",{className:"truncate",children:[t.name," - ",t.email," - ",new Date(t.date).toLocaleString("fr-FR",{dateStyle:"medium",timeStyle:"short"})]}),e.jsx("button",{onClick:()=>I(t),className:"touch-area focus-visible ml-2 px-2 py-1 rounded-md bg-emerald-600 text-white hover:bg-emerald-700",children:"Envoyer"})]},t.id))}),e.jsx("div",{className:"flex justify-end gap-2 mt-4",children:e.jsx("button",{onClick:()=>P(!1),className:"touch-area focus-visible px-4 py-2 rounded-md bg-rose-600 text-white hover:bg-rose-700",children:"Fermer"})})]})]})})})}export{Te as default};
